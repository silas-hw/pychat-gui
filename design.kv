#:kivy 1.11.0
<Label>:
    font_name: '.\\font\\OpenSansEmoji.ttf'
    
<GridLayout>:
    padding: 10

<PopupWindow>:
    cols: 1

    input: input

    MDTextField:
        id: input

        on_text_validate: app.mainLayout.hidePopup()

        hint_text: "Enter username"
        required: True
    
    Button:
        text: 'Submit'
        on_press: app.mainLayout.hidePopup()

<MainLayout>:
    input: input
    output: chat

    orientation: 'vertical'
    spacing: 10
    padding: 10

    FloatLayout:
        AnchorLayout:
            pos: 3, 5

            anchor_x: 'left'
            anchor_y: 'top'
        
            MDLabel:
                id: chat
                color: 0, 0, 0, 1
                text_size: self.width, None
                size_hint_y: None
                height: self.texture_size[1]
                markup: True

        MDIconButton:
            pos: root.width*0.9, root.height*0.9

            icon: "settings"
            on_press: root.showPopup()

    GridLayout:
        cols: 2
        size_hint_y: None
        height: self.minimum_height

        MDTextField:
            id: input

            on_text_validate: root.btn()
            
            size_hint_y: None
            height: 10

            hint_text: "type a message:"
            
        MDIconButton:
            icon: "send"
            on_press: root.btn()